<html>
        <blockquote id="quote">
                No book can ever be finished. While working on it we learn
                just enough to find it immature the moment we turn away
                from it.
              </blockquote>
              
              <script>
                function elt(type, ...children) {
                  let node = document.createElement(type);
                  for (let child of children) {
                    if (typeof child != "string") node.appendChild(child);
                    else node.appendChild(document.createTextNode(child));
                  }
                  return node;
                }
              
                //adds html elements via js
                document.getElementById("quote").appendChild(
                  elt("footer", "—",
                      elt("strong", "Karl Popper"),
                      ", preface to the second editon of ",
                      elt("em", "The Open Society and Its Enemies"),
                      ", 1950"));
              </script> 

<p data-classified="secret">The launch code is 00000000.</p>
<p data-classified="unclassified">I have two feet.</p>

<script>
  let paras = document.body.getElementsByTagName("p");
  for (let para of Array.from(paras)) {
    if (para.getAttribute("data-classified") == "unclassified") {
      para.remove();
    }
  }
  //loop indexes element with custom tags "secret" and classified.
  //uses weak comparison to remove element depending on tag string
  //"secret" vs "unclassified"
</script>
<p style="border: 3px solid red">
        I'm boxed in
      </p>
      
    <script>
        let para = document.body.getElementsByTagName("p")[0];
        console.log("clientHeight:", para.clientHeight);
        console.log("offsetHeight:", para.offsetHeight);
</script>


<p><span id="one"></span></p>
<p><span id="two"></span></p>

<script>
  function time(name, action) {
    let start = Date.now(); // Current time in milliseconds
    action();
    console.log(name, "took", Date.now() - start, "ms");
  }

  time("naive", () => {
    let target = document.getElementById("one");
    while (target.offsetWidth < 2000) {
      target.appendChild(document.createTextNode("X"));
    }
  });
  // → naive took 32 ms

  time("clever", function() {
    let target = document.getElementById("two");
    target.appendChild(document.createTextNode("XXXXX"));
    let total = Math.ceil(2000 / (target.offsetWidth / 5));
    target.firstChild.nodeValue = "X".repeat(total);
  });
  // → clever took 1 ms
</script>

</html>